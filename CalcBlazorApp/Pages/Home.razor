@page "/"

@using CalcBlazorCore.Models
@using CalcBlazorApp.Services

@inject KeyService KeyService

<PageTitle>MK-61</PageTitle>

<SystemCase OnKeyPress="HandleKeyPress" />
<DebugOutput KeyPressed="@keyPressed" />

@code {
    private KeyInfo keyPressed;

    private async Task HandleKeyPress(string key)
    {
        try
        {
            keyPressed = await KeyService.GetInfoAsync(key);
        }
        catch (Exception ex)
        {
            keyPressed = new KeyInfo { Code = "EE" };
        }
    }
}
